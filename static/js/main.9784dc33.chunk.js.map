{"version":3,"sources":["store/actions/actions.js","store/actions/login.js","store/actions/buildBurger.js","store/actions/fetchOrders.js","store/actions/placeOrder.js","store/actions/signup.js","store/actions/updateProfile.js","recycle/Spinner/Spinner.js","recycle/Alert/Alert.js","hooks/useAlert.js","recycle/Backdrop/Backdrop.js","recycle/Prompt/Prompt.js","containers/BurgerIngredient/BurgerIngredient.js","containers/Burger/Burger.js","assets/icons/spatula.svg","assets/icons/profile.svg","assets/icons/notes.svg","containers/Logo/Logo.js","containers/NavigationItems/NavigationItems.js","containers/DrawerToggle/DrawerToggle.js","containers/Toolbar/Toolbar.js","containers/SideDrawer/SideDrawer.js","containers/Layout/Layout.js","containers/BuildControl/BuildControl.js","containers/BuildControls/BuildControls.js","containers/OrderPrompt/OrderPrompt.js","containers/BurgerBuilder/BurgerBuilder.js","containers/App/App.js","serviceWorker.js","store/reducers/buildBurger.js","store/reducers/placeOrder.js","store/reducers/fetchOrders.js","store/reducers/login.js","store/reducers/signup.js","store/reducers/updateProfile.js","index.js"],"names":["SET_INGREDIENTS","FETCH_INGREDIENTS_FAILED","ADD_INGREDIENT","REMOVE_INGREDIENT","PURCHASE_BURGER_START","PURCHASE_BURGER_SUCCESS","PURCHASE_BURGER_FAIL","FETCH_START","FETCH_STORE","FETCH_FAIL","UPDATE_ORDER_STATUS","LOGIN_START","LOGIN_STORE","PROFILE_STORE","PROFILE_FAIL","LOGIN_FAIL","LOGOUT","LOGIN_EXPIRED_ACK","SIGNUP_START","SIGNUP_END","SIGNUP_CONFLICT","PROFILE_EDIT_START","PROFILE_SAVE_START","PROFILE_SAVE_END","PROFILE_SAVE_FAILED","PROFILE_EDIT_END","logoutTimer","addIngredient","ingredient","type","actions","removeIngredient","initIngredients","dispatch","axios","get","then","response","ingredients","data","error","errorMessage","catch","alert","updateOrdersStatus","status","handleFetchFailure","fetchMessage","fetchOrders","idToken","userId","queryParams","endPoint","orders","fetchedOrders","key","unshift","notifyFailure","checkOutMessage","purchaseBurger","orderData","showAlert","post","storeLoginData","setLogoutTimer","expiration","setTimeout","logout","storeUserData","userData","handleLoginFailure","acknowledgeTimerExpiration","method","clearTimeout","localStorage","removeItem","refreshAuth","localToken","expirationDate","Date","getItem","JSON","parse","expiry","getTime","login","loginData","returnSecureToken","localId","expiresIn","getUserData","setItem","id","Object","assign","stringify","console","log","conflictMessage","message","handleLoginConflict","endSignup","endType","signup","formData","email","password","name","country","zipCode","contactNumber","token","signUpData","postSignupData","postUserData","deleteSignupData","handleSignupConflict","startEdit","handleSaveFail","endEdit","updateProfile","history","config","headers","params","auth","updatedUserData","replace","Spinner","className","Alert","props","closeAlert","clicked","children","useAlert","initialState","useState","Backdrop","onClick","Prompt","acknowledgeAlert","BurgerIngredient","burger","transformedIngredients","keys","map","igKey","Array","_","i","reduce","igArray","currentIg","concat","length","module","exports","Logo","NavigationItems","closeSideDrawer","useDispatch","useHistory","isAuthenticated","useSelector","state","to","exact","activeClassName","src","spatula","alt","profile","notes","href","e","preventDefault","drawerToggle","toggleSideDrawer","Toolbar","DrawerToggle","SideDrawer","sideDrawerOpen","side","Layout","showSideDrawer","control","label","disabled","controls","BuildControls","startOrder","price","buttonStatus","orderStatus","statusKey","overallStatus","currentButtonStatus","BuildControl","OrderPrompt","cancelOrder","goToLogin","BurgerBuilder","alertShown","buildBurger","totalPrice","toFixed","useEffect","disabledInfo","push","Burger","ingName","style","color","Checkout","React","lazy","Orders","Login","Signup","EditProfile","StaticProfile","App","reduxToken","timerExpired","fallback","path","component","routes","Boolean","window","location","hostname","match","INGREDIENT_PRICES","salad","cheese","meat","bacon","deepClone","object","reducer","action","purchasing","loading","purchased","ordersStatus","editing","composeEnhancers","compose","rootReducer","combineReducers","placeOrder","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9784dc33.chunk.js","sourcesContent":["export const SET_INGREDIENTS = \"SET_INGREDIENTS\"\r\nexport const FETCH_INGREDIENTS_FAILED = \"FETCH_INGREDIENTS_FAILED\"\r\nexport const ADD_INGREDIENT = \"ADD_INGREDIENT\"\r\nexport const REMOVE_INGREDIENT = \"REMOVE_INGREDIENT\"\r\n\r\nexport const PURCHASE_BURGER_START = \"PURCHASE_BURGER_START\"\r\nexport const PURCHASE_BURGER_SUCCESS = \"PURCHASE_BURGER_SUCCESS\"\r\nexport const PURCHASE_BURGER_FAIL = \"PURCHASE_BURGER_FAIL\"\r\n\r\nexport const FETCH_START = \"FETCH_START\"\r\nexport const FETCH_STORE = \"FETCH_STORE\"\r\nexport const FETCH_FAIL = \"FETCH_FAIL\"\r\nexport const UPDATE_ORDER_STATUS = \"UDPATE_ORDER_STATUS\"\r\n\r\n//login------------------------------------------\r\nexport const LOGIN_START = \"LOGIN_START\"\r\nexport const LOGIN_STORE = \"LOGIN_STORE\"\r\nexport const PROFILE_STORE = \"PROFILE_STORE\"\r\nexport const LOGIN_END = \"LOGIN_END\"\r\nexport const PROFILE_FAIL = \"PROFILE_FAIL\"\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\"\r\nexport const LOGOUT = \"LOGOUT\"\r\nexport const LOGIN_EXPIRED_ACK = \"LOGIN_EXPIRED_ACK\"\r\nexport const LOGIN_BROKE = \"LOGIN_BROKE\"\r\n\r\nexport const SIGNUP_START = \"SIGNUP_START\"\r\nexport const SIGNUP_END = \"SIGNUP_END\"\r\nexport const SIGNUP_CONFLICT = \"SIGNUP_CONFLICT\"\r\n\r\nexport const PROFILE_EDIT_START = \"PROFILE_EDIT\"\r\nexport const PROFILE_SAVE_START = \"PROFILE_START_SAVE\"\r\nexport const PROFILE_SAVE_END = \"PROFILE_STARTEND\"\r\nexport const PROFILE_SAVE_FAILED = \"PROFILE_SAVE_FAILED\"\r\nexport const PROFILE_EDIT_END = \"PROFILE_EDIT_END\"\r\n","import * as actions from \"./actions\";\r\nimport axios from \"axios\";\r\n\r\n//-------------------------------------------------------\r\nconst startLogin = () => {\r\n  return {\r\n    type: actions.LOGIN_START\r\n  };\r\n};\r\n\r\nconst storeLoginData = (idToken, userId) => {\r\n  return {\r\n    type: actions.LOGIN_STORE,\r\n    idToken,\r\n    userId\r\n  };\r\n};\r\n\r\nvar logoutTimer;\r\nconst setLogoutTimer = expiration => {\r\n  return dispatch => {\r\n    logoutTimer = setTimeout(() => {\r\n      dispatch(logout(\"auto\"));\r\n    }, expiration * 1000);\r\n  };\r\n};\r\n\r\nexport const getUserData = (idToken, userId) => {\r\n  const queryParams = `?auth=${idToken}&orderBy=\"userId\"&equalTo=\"${userId}\"`;\r\n  const endPoint = `https://fir-7cc33-default-rtdb.firebaseio.com/users.json${queryParams}`;\r\n  return axios.get(endPoint);\r\n};\r\n\r\nexport const storeUserData = userData => {\r\n  return {\r\n    type: actions.PROFILE_STORE,\r\n    userData\r\n  };\r\n};\r\n\r\nconst handleLoginFailure = errorMessage => {\r\n  return {\r\n    type: actions.PROFILE_FAIL,\r\n    errorMessage\r\n  };\r\n};\r\n\r\nconst handleLoginConflict = conflictMessage => {\r\n  return {\r\n    type: actions.LOGIN_FAIL,\r\n    conflictMessage\r\n  };\r\n};\r\n\r\nexport const acknowledgeTimerExpiration = () => {\r\n  return {\r\n    type: actions.LOGIN_EXPIRED_ACK\r\n  };\r\n};\r\n\r\n//--------------------------------------------------------------------------------------\r\n\r\n//exports\r\nexport const logout = method => {\r\n  clearTimeout(logoutTimer);\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"expirationDate\");\r\n  localStorage.removeItem(\"userId\");\r\n  localStorage.removeItem(\"userData\");\r\n  return {\r\n    type: actions.LOGOUT,\r\n    method\r\n  };\r\n};\r\n\r\nexport const refreshAuth = localToken => {\r\n  return dispatch => {\r\n    if (!localToken) {\r\n      return;\r\n    } else {\r\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n      if (expirationDate <= new Date()) {\r\n        dispatch(logout(\"auto\"));\r\n      } else {\r\n        const userId = localStorage.getItem(\"userId\");\r\n        const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n        const expiry = (expirationDate.getTime() - new Date().getTime()) / 1000;\r\n\r\n        dispatch(storeUserData(userData));\r\n        dispatch(storeLoginData(localToken, userId));\r\n        dispatch(setLogoutTimer(expiry));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (loginData, showAlert) => {\r\n  let userId = null;\r\n  let idToken = null;\r\n  let expiry = null;\r\n\r\n  return dispatch => {\r\n    dispatch(startLogin());\r\n\r\n    const apiKey = \"AIzaSyCkj3deweouYeylYN2TlrNQ03jRJBJrJ8Y\";\r\n    const endPoint = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${apiKey}`;\r\n\r\n    axios\r\n      .post(endPoint, { ...loginData, returnSecureToken: true })\r\n      .then(\r\n        //user is authenticated but defer saving of credentials until userData is retrieved\r\n        response => {\r\n          userId = response.data.localId;\r\n          idToken = response.data.idToken;\r\n          expiry = response.data.expiresIn;\r\n\r\n          getUserData(idToken, userId).then(\r\n            //userData is retrieved --> may not save login credentials\r\n            response => {\r\n              const expirationDate = new Date(\r\n                new Date().getTime() + new Date(expiry * 1000).getTime()\r\n              );\r\n\r\n              localStorage.setItem(\"token\", idToken);\r\n              localStorage.setItem(\"expirationDate\", expirationDate);\r\n              localStorage.setItem(\"userId\", userId);\r\n\r\n              const userData = {};\r\n              for (const id in response.data) {\r\n                Object.assign(userData, { ...response.data[id], id: id });\r\n              }\r\n              localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n              dispatch(storeLoginData(idToken, userId));\r\n              dispatch(setLogoutTimer(expiry));\r\n              dispatch(storeUserData(userData));\r\n            },\r\n            error => {\r\n              console.log(error);\r\n              dispatch(handleLoginFailure(\"Failed to login due to some errors :(\"));\r\n              showAlert(true);\r\n            }\r\n          );\r\n        },\r\n        error => {\r\n          const conflictMessage = error.response.data.error.message;\r\n          dispatch(handleLoginConflict(conflictMessage));\r\n        }\r\n      )\r\n      .catch(() => {\r\n        dispatch(handleLoginFailure(\"Network Error! Failed to login :(\"));\r\n        showAlert(true);\r\n      });\r\n  };\r\n};\r\n","import * as actions from \"./actions\";\r\nimport axios from \"axios\";\r\n\r\nconst setIngredients = ingredients => {\r\n  return {\r\n    type: actions.SET_INGREDIENTS,\r\n    ingredients: ingredients\r\n  };\r\n};\r\n\r\nconst fetchIngredientsFailed = errorMessage => {\r\n  return {\r\n    type: actions.FETCH_INGREDIENTS_FAILED,\r\n    errorMessage\r\n  };\r\n};\r\n\r\n//EXPORTS\r\n\r\nexport const addIngredient = ingredient => {\r\n  return {\r\n    type: actions.ADD_INGREDIENT,\r\n    ingredient: ingredient\r\n  };\r\n};\r\n\r\nexport const removeIngredient = ingredient => {\r\n  return {\r\n    type: actions.REMOVE_INGREDIENT,\r\n    ingredient: ingredient\r\n  };\r\n};\r\n\r\nexport const initIngredients = () => {\r\n  return dispatch =>\r\n    axios\r\n      .get(\"https://fir-7cc33-default-rtdb.firebaseio.com/ingredients.json\")\r\n      .then(\r\n        response => {\r\n          dispatch(setIngredients(response.data));\r\n        },\r\n        error => {\r\n          dispatch(fetchIngredientsFailed(\"Can't initialize burger builder app :(\"));\r\n        }\r\n      )\r\n      .catch(error => {\r\n        alert(error);\r\n      });\r\n};\r\n","import * as actions from \"./actions\";\r\nimport axios from \"axios\";\r\n\r\nconst startFetching = () => {\r\n  return {\r\n    type: actions.FETCH_START\r\n  };\r\n};\r\n\r\nconst storeOrders = orders => {\r\n  return {\r\n    type: actions.FETCH_STORE,\r\n    orders: orders\r\n  };\r\n};\r\n\r\nexport const updateOrdersStatus = status => {\r\n  return {\r\n    type: actions.UPDATE_ORDER_STATUS,\r\n    status\r\n  };\r\n};\r\n\r\nconst handleFetchFailure = fetchMessage => {\r\n  return {\r\n    type: actions.FETCH_FAIL,\r\n    fetchMessage\r\n  };\r\n};\r\n\r\n//EXPORTS\r\nexport const fetchOrders = (idToken, userId) => {\r\n  return dispatch => {\r\n    dispatch(startFetching());\r\n    const queryParams = `?auth=${idToken}&orderBy=\"userId\"&equalTo=\"${userId}\"`;\r\n    const endPoint = `https://fir-7cc33-default-rtdb.firebaseio.com/orders.json${queryParams}`;\r\n    axios\r\n      .get(endPoint)\r\n      .then(\r\n        response => {\r\n          const fetchedOrders = [];\r\n          for (let key in response.data) {\r\n            fetchedOrders.unshift({\r\n              ...response.data[key],\r\n              key\r\n            });\r\n          }\r\n          dispatch(storeOrders(fetchedOrders));\r\n          dispatch(updateOrdersStatus(\"updated\"));\r\n        },\r\n        () => {\r\n          dispatch(handleFetchFailure(\"Can't retrieve your orders :(\"));\r\n        }\r\n      )\r\n      .catch(error =>\r\n        dispatch(handleFetchFailure(\"Something went wrong. Unable to fetch your orders\"))\r\n      );\r\n  };\r\n};\r\n","import * as actions from \"./actions\";\r\nimport axios from \"axios\";\r\nimport { updateOrdersStatus } from \"../actions/fetchOrders\";\r\n\r\nconst startPurchase = () => {\r\n  return {\r\n    type: actions.PURCHASE_BURGER_START\r\n  };\r\n};\r\n\r\nconst notifySuccess = checkOutMessage => {\r\n  return {\r\n    type: actions.PURCHASE_BURGER_SUCCESS,\r\n    checkOutMessage\r\n  };\r\n};\r\n\r\nconst notifyFailure = checkOutMessage => {\r\n  return {\r\n    type: actions.PURCHASE_BURGER_FAIL,\r\n    checkOutMessage\r\n  };\r\n};\r\n\r\nexport const purchaseBurger = (orderData, idToken, showAlert) => {\r\n  return dispatch => {\r\n    const endPoint = \"https://fir-7cc33-default-rtdb.firebaseio.com/orders.json?auth=\" + idToken;\r\n\r\n    dispatch(startPurchase());\r\n    axios\r\n      .post(endPoint, orderData)\r\n      .then(\r\n        () => {\r\n          dispatch(notifySuccess(\"Thank you for purchasing!\"));\r\n          dispatch(updateOrdersStatus(\"outdated\"));\r\n          showAlert(true);\r\n        },\r\n        () => {\r\n          dispatch(notifyFailure(\"Failed to place your order :( Please try again\"));\r\n          showAlert(true);\r\n        }\r\n      )\r\n      .catch(() => {\r\n        dispatch(notifyFailure(\"Network Error! Failed to place your order :(\"));\r\n      });\r\n  };\r\n};\r\n","import * as actions from \"./actions\";\r\nimport axios from \"axios\";\r\n\r\nconst startSignup = () => {\r\n  return {\r\n    type: actions.SIGNUP_START\r\n  };\r\n};\r\nconst endSignup = endType => {\r\n  return {\r\n    type: actions.SIGNUP_END,\r\n    endType\r\n  };\r\n};\r\n\r\nconst handleSignupConflict = conflictMessage => {\r\n  return {\r\n    type: actions.SIGNUP_CONFLICT,\r\n    conflictMessage\r\n  };\r\n};\r\n\r\nconst apiKey = \"AIzaSyCkj3deweouYeylYN2TlrNQ03jRJBJrJ8Y\";\r\nconst postUserData = (userData, idToken) => {\r\n  const queryParams = `?auth=${idToken}`;\r\n  return axios.post(\r\n    `https://fir-7cc33-default-rtdb.firebaseio.com/users.json${queryParams}`,\r\n    userData\r\n  );\r\n};\r\n\r\nconst postSignupData = signUpData => {\r\n  const endPoint = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${apiKey}`;\r\n  return axios.post(endPoint, { ...signUpData, returnSecureToken: true });\r\n};\r\n\r\nconst deleteSignupData = idToken => {\r\n  const endPoint = `https://identitytoolkit.googleapis.com/v1/accounts:delete?key=${apiKey}`;\r\n  return axios.post(endPoint, { idToken });\r\n};\r\n\r\n//exports\r\nexport const signup = (formData, showAlert) => {\r\n  const { email, password, name, country, zipCode, contactNumber } = formData;\r\n\r\n  let token = null;\r\n  const signUpData = { email, password };\r\n  const userData = { name, country, zipCode, contactNumber };\r\n\r\n  return dispatch => {\r\n    dispatch(startSignup());\r\n\r\n    postSignupData(signUpData)\r\n      .then(\r\n        response => {\r\n          const idToken = response.data.idToken;\r\n          const userId = response.data.localId;\r\n          token = idToken;\r\n\r\n          postUserData({ ...userData, userId }, idToken).then(\r\n            () => {\r\n              dispatch(endSignup(\"userSaved\"));\r\n              showAlert(true);\r\n            },\r\n            error => {\r\n              deleteSignupData(token).then(\r\n                () => {\r\n                  dispatch(endSignup(\"signupFailed\"));\r\n                  showAlert(true);\r\n                },\r\n                () => {\r\n                  dispatch(endSignup(\"userNotSaved\"));\r\n                  showAlert(true);\r\n                }\r\n              );\r\n            }\r\n          );\r\n        },\r\n        error => {\r\n          const conflictMessage = error.response.data.error.message;\r\n          dispatch(handleSignupConflict(conflictMessage));\r\n        }\r\n      )\r\n      .catch(() => {\r\n        dispatch(endSignup(\"signupFailed\"));\r\n        showAlert(true);\r\n      });\r\n  };\r\n};\r\n","import * as actions from \"./actions\";\r\nimport { storeUserData } from \"./login\";\r\nimport axios from \"axios\";\r\n\r\nexport const startEdit = () => {\r\n  return {\r\n    type: actions.PROFILE_EDIT_START\r\n  };\r\n};\r\n\r\nconst startSavingProfile = () => {\r\n  return {\r\n    type: actions.PROFILE_SAVE_START\r\n  };\r\n};\r\n\r\nconst endSavingProfile = () => {\r\n  return {\r\n    type: actions.PROFILE_SAVE_END\r\n  };\r\n};\r\n\r\nexport const handleSaveFail = errorMessage => {\r\n  return {\r\n    type: actions.PROFILE_SAVE_FAILED,\r\n    errorMessage\r\n  };\r\n};\r\n\r\nexport const endEdit = () => {\r\n  return {\r\n    type: actions.PROFILE_EDIT_END\r\n  };\r\n};\r\n\r\nexport const updateProfile = (formData, id, userId, idToken, showAlert, history) => {\r\n  const config = {\r\n    method: \"post\",\r\n    headers: {\r\n      \"X-HTTP-Method-Override\": \"PATCH\"\r\n    },\r\n    params: {\r\n      auth: idToken\r\n    }\r\n  };\r\n  const endPoint = `https://fir-7cc33-default-rtdb.firebaseio.com/users/${id}.json`;\r\n\r\n  return dispatch => {\r\n    dispatch(startSavingProfile());\r\n    axios\r\n      .post(endPoint, formData, config)\r\n      .then(\r\n        response => {\r\n          const updatedUserData = { ...response.data, userId: userId, id: id };\r\n          localStorage.setItem(\"userData\", JSON.stringify(updatedUserData));\r\n          dispatch(storeUserData(response.data));\r\n          dispatch(endSavingProfile());\r\n          history.replace(\"/profile\");\r\n        },\r\n        () => {\r\n          dispatch(handleSaveFail(\"Failed to save changes\"));\r\n          showAlert(true);\r\n        }\r\n      )\r\n      .catch(() => {\r\n        dispatch(handleSaveFail(\"Failed to save changes\"));\r\n        showAlert(true);\r\n      });\r\n  };\r\n};\r\n","import React from 'react';\r\nimport './spinner.scss'\r\n\r\n\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className='spinner'>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Spinner ;","import React from 'react';\r\nimport './alert.scss';\r\nimport Backdrop from '../../recycle/Backdrop/Backdrop';\r\n\r\n\r\nconst Alert = props => {\r\n\r\n    const {closeAlert} = props;\r\n\r\n    return(\r\n        <>\r\n            <Backdrop clicked={closeAlert}/>\r\n            <div className='alert'>\r\n                {props.children}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Alert;","import {useState} from 'react';\r\n\r\nconst useAlert = (initialState) => {\r\n    const [alertShown,showAlert] = useState(initialState);\r\n    return [alertShown,showAlert]\r\n}\r\n\r\nexport default useAlert;","import React from 'react';\r\nimport './backdrop.scss';\r\n\r\n\r\n\r\nconst Backdrop = (props) => {\r\n    const {clicked} = props;\r\n    return (\r\n        <div className='backdrop' onClick={clicked}></div>\r\n    )\r\n}\r\n\r\n\r\nexport default Backdrop;","import React from 'react';\r\nimport './prompt.scss'\r\n\r\nconst Prompt = props => {\r\n    const {children,acknowledgeAlert} = props \r\n    return (\r\n        <div className='error-prompt'>\r\n            <p className='error-prompt__toolkit'>{children}</p>\r\n            <button type=\"button\" className='button--success error-prompt__button' onClick={acknowledgeAlert}>OK</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Prompt;\r\n\r\n","import React from 'react';\r\nimport './burger-ingredient.scss'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BurgerIngredient = props => {\r\n    let ingredient = null;\r\n\r\n        switch(props.type){\r\n            case('bread-bottom'):\r\n                ingredient = <div className='bread-bottom'></div>;\r\n                break;\r\n            \r\n            case('bread-top'):\r\n                ingredient = (\r\n                    <div className='bread-top'>\r\n                        <div className='seeds1'></div>\r\n                        <div className='seeds2'></div>\r\n                    </div>\r\n                );\r\n                break;\r\n            \r\n            case('meat'):\r\n                ingredient = <div className='meat'></div>\r\n                break;\r\n            \r\n            case('cheese'):\r\n                ingredient = <div className='cheese'></div>\r\n                break;\r\n            \r\n            case('bacon'):\r\n                ingredient = <div className='bacon'></div>\r\n                break;\r\n            \r\n            case('salad'):\r\n                ingredient = <div className='salad'></div>\r\n                break;\r\n            \r\n            default:\r\n                ingredient = null;\r\n        }\r\n    \r\n        return ingredient;\r\n}\r\n\r\n\r\n\r\nBurgerIngredient.propTypes = {\r\n    type: PropTypes.string.isRequired\r\n};\r\n\r\n\r\nexport default BurgerIngredient;","import React from 'react';\r\nimport './burger.scss';\r\nimport '../../recycle/Scrollbar/scrollbar.scss';\r\nimport BurgerIngredient from '../BurgerIngredient/BurgerIngredient';\r\n\r\n\r\nconst burger = (props) =>{\r\n    let transformedIngredients = Object.keys(props.ingredients)\r\n    .map(igKey => {\r\n        return [...Array(props.ingredients[igKey])].map((_,i) => {\r\n            return <BurgerIngredient key={igKey + i} type={igKey} />\r\n        })\r\n    })\r\n    .reduce((igArray,currentIg)=>{\r\n        return igArray.concat(currentIg)\r\n    },[]);\r\n\r\n    if (transformedIngredients.length === 0){\r\n        transformedIngredients = <p className='burger__instruction'>FEEL FREE TO ADD INGREDIENTS</p>\r\n    }\r\n\r\n    return(\r\n        \r\n        <div className='burger scrollbar'>\r\n            <BurgerIngredient type=\"bread-top\"/>\r\n            {transformedIngredients}\r\n            <BurgerIngredient type=\"bread-bottom\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default burger;","module.exports = __webpack_public_path__ + \"static/media/spatula.1efeddbd.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile.ff190b2d.svg\";","module.exports = __webpack_public_path__ + \"static/media/notes.d0b42f7c.svg\";","import React from 'react';\r\nimport './logo.scss';\r\n\r\nconst Logo = (props) => {\r\n    return (\r\n        <div className='logo'></div>\r\n    )\r\n}\r\n\r\nexport default Logo;","import React  from 'react';\r\nimport './navigationitems.scss'\r\nimport '../../recycle/Link/link.scss'\r\nimport {NavLink,useHistory} from 'react-router-dom';\r\n// import NavigationItem from '../NavigationItem/NavigationItem';\r\nimport * as actions from '../../store/actions/exports';\r\nimport {useSelector,useDispatch} from 'react-redux';\r\n\r\nimport spatula from '../../assets/icons/spatula.svg'\r\nimport profile from '../../assets/icons/profile.svg'\r\nimport notes from '../../assets/icons/notes.svg'\r\n\r\n\r\n\r\nconst NavigationItems = (props) =>{\r\n    const {closeSideDrawer} = props;\r\n    \r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const idToken = useSelector(state => state.login.idToken);\r\n    const isAuthenticated = idToken !== null;\r\n\r\n    return(\r\n        <ul className='navigation-items'  onClick={closeSideDrawer}>\r\n            \r\n            <li>\r\n                <NavLink \r\n                    to='/'\r\n                    exact\r\n                    className='link--nav'\r\n                    activeClassName={'active'}\r\n                >\r\n                    <img className='navigation-items__img' src={spatula} alt='to burger builder'/>\r\n                    <span className='navigation-items__text'>Burger Builder</span>\r\n                </NavLink>\r\n            </li>\r\n\r\n            {!isAuthenticated ? null:\r\n            <li>\r\n                <NavLink \r\n                    to='/profile'\r\n                    exact\r\n                    className='link--nav'\r\n                    activeClassName={'active'}\r\n                >\r\n                    <img className='navigation-items__img' src={profile} alt='to your profile'/>\r\n                    <span className='navigation-items__text'>Profile</span>\r\n                </NavLink>\r\n            </li>}\r\n\r\n              \r\n            {!isAuthenticated? null:\r\n            <li>\r\n                <NavLink \r\n                    to='/orders'\r\n                    exact\r\n                    className='link--nav'\r\n                    activeClassName={'active'}\r\n                >\r\n                    <img className='navigation-items__img' src={notes} alt='to your order list'/>\r\n                    <span className='navigation-items__text'>Orders</span>\r\n                </NavLink>\r\n            </li>}\r\n\r\n            {isAuthenticated ? null:\r\n            <li>\r\n                <NavLink \r\n                    to={'/login'}\r\n                    exact\r\n                    className='link--nav'\r\n                    activeClassName={'active'}\r\n                >\r\n                    Login\r\n                </NavLink>\r\n            </li>}   \r\n\r\n            {!isAuthenticated ? null:\r\n            <li>\r\n                <a href='/'\r\n                    className='link--nav'\r\n                    onClick={(e) => {\r\n                        e.preventDefault()\r\n                        dispatch(actions.logout('manual'))\r\n                        history.replace('/')\r\n                    }}\r\n                >\r\n                   Logout\r\n                </a>\r\n            </li>}\r\n\r\n\r\n           \r\n        </ul>\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default NavigationItems;","import React from 'react';\r\nimport './drawertoggle.scss';\r\n\r\nconst drawerToggle = (props) => {\r\n    const {toggleSideDrawer} = props;\r\n    return (\r\n        // <div onClick={props.clicked}>MENU</div>\r\n        <div onClick={toggleSideDrawer} className='drawertoggle'>\r\n            <div className={'drawertoggle__bar'}></div>\r\n            <div className={'drawertoggle__bar'}></div>\r\n            <div className={'drawertoggle__bar'}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default drawerToggle;","import React from 'react';\r\nimport './toolbar.scss';\r\nimport Logo from '../Logo/Logo';\r\nimport NavigationItems from '../NavigationItems/NavigationItems'; \r\nimport DrawerToggle from '../DrawerToggle/DrawerToggle';\r\n\r\nconst Toolbar = (props) => {\r\n\r\n    const {toggleSideDrawer} = props;\r\n\r\n    return (\r\n        <div className='toolbar'>\r\n            <DrawerToggle toggleSideDrawer={toggleSideDrawer}/>\r\n            <Logo/>\r\n            <nav className='toolbar__nav'>\r\n                <NavigationItems/>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Toolbar;\r\n\r\n","import React from 'react';\r\nimport './sidedrawer.scss';\r\n\r\nimport NavigationItems from '../NavigationItems/NavigationItems';\r\nimport Backdrop from '../../recycle/Backdrop/Backdrop';\r\n\r\nconst SideDrawer = (props ) => {\r\n\r\n    const {\r\n        sideDrawerOpen,\r\n        closeSideDrawer,\r\n        isAuthenticated} = props;\r\n\r\n    return(\r\n        <>\r\n            {sideDrawerOpen?<Backdrop clicked={closeSideDrawer}/>:null}\r\n            <div className={sideDrawerOpen? 'sidedrawer--open' : 'sidedrawer--close'}>\r\n                <nav>\r\n                    <NavigationItems side isAuthenticated={isAuthenticated} closeSideDrawer={closeSideDrawer}/> \r\n                </nav>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport default SideDrawer;","import React, {useState} from 'react';\r\nimport './layout.scss';\r\nimport '../../recycle/Scrollbar/scrollbar.scss'\r\nimport Toolbar from '../Toolbar/Toolbar'; \r\nimport SideDrawer from '../SideDrawer/SideDrawer';\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst Layout = props => {\r\n    const {children} = props;\r\n    const isAuthenticated = useSelector(state => state.login.idToken !== null)\r\n    const [sideDrawerOpen, showSideDrawer] = useState(false)\r\n\r\n    const closeSideDrawer = () => {\r\n        showSideDrawer(false)\r\n    }\r\n\r\n    const toggleSideDrawer = () => {\r\n        showSideDrawer(!sideDrawerOpen)\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Toolbar toggleSideDrawer={toggleSideDrawer} isAuthenticated={isAuthenticated}/>\r\n            <SideDrawer isAuthenticated={isAuthenticated} sideDrawerOpen={sideDrawerOpen} closeSideDrawer={closeSideDrawer}/>\r\n            <main className='main'>\r\n                {children}\r\n            </main>\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Layout;","import React from 'react';\r\nimport '../../recycle/Button/button.scss'\r\nimport './build-control.scss';\r\n\r\nconst control = (props) => {\r\n\r\n    const {label,removeIngredient,disabled,addIngredient} = props;\r\n    return(\r\n        <div className ='build-control'>\r\n            <div className='build-control__label'>{label}</div>\r\n            <button \r\n                className='button--less build-control__button' \r\n                onClick={removeIngredient}\r\n                disabled={disabled}\r\n            >\r\n            Less\r\n            </button>\r\n\r\n            <button \r\n                className='button--more build-control__button'\r\n                onClick={addIngredient}\r\n            >\r\n            More\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default control;","import React from 'react';\r\nimport '../../recycle/Button/button.scss';\r\nimport './build-controls.scss';\r\nimport BuildControl from '../BuildControl/BuildControl';\r\n\r\nconst controls = [\r\n    {label: 'Salad', type: 'salad'},\r\n    {label: 'Bacon', type: 'bacon'},\r\n    {label: 'Cheese', type: 'cheese'},\r\n    {label: 'Meat', type: 'meat'}\r\n];\r\n\r\nconst BuildControls = (props) => {\r\n    const {\r\n        startOrder,\r\n        disabled,\r\n        price,\r\n        addIngredient,\r\n        removeIngredient,\r\n    } = props;\r\n\r\n    const buttonStatus = {...disabled}\r\n    const orderStatus = !(Object.keys(buttonStatus).map(statusKey=>{\r\n        return (!buttonStatus[statusKey])\r\n    }).reduce((overallStatus, currentButtonStatus)=>{\r\n        return (overallStatus || currentButtonStatus)\r\n    },false))\r\n\r\n    return (\r\n        <div className='build-controls'>\r\n            <p className='build-controls__price'>Current price: <span>${price}</span></p>\r\n            {controls.map(control => {\r\n                return (\r\n                <BuildControl \r\n                    key={control.label}\r\n                    label={control.label}\r\n                    addIngredient={() => addIngredient(control.type)}\r\n                    removeIngredient={() => removeIngredient(control.type)}\r\n                    disabled={disabled[control.type]}\r\n                />\r\n                )\r\n            })}\r\n            \r\n            \r\n            <button \r\n                className='button--success build-controls__order'\r\n                disabled={orderStatus} \r\n                onClick={startOrder}>Order now!</button>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default BuildControls;","import React from 'react';\r\nimport '../../recycle/Button/button.scss'\r\nimport './order-prompt.scss';\r\n\r\nconst OrderPrompt = props => {\r\n    const {cancelOrder,goToLogin} = props;\r\n    return (\r\n        <div className='order-prompt'>\r\n            <p className='order-prompt__toolkit'>Please login to continue</p>\r\n            <button type=\"button\" className='button--failed order-prompt__button' onClick={cancelOrder}>Cancel</button>\r\n            <button type=\"button\" className='button--success order-prompt__button' onClick={goToLogin}>Login</button>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default OrderPrompt\r\n\r\n","import React, {useEffect} from 'react';\r\nimport Burger from '../../containers/Burger/Burger';\r\nimport BuildControls from '../../containers/BuildControls/BuildControls';\r\nimport Alert from '../../recycle/Alert/Alert';\r\nimport Spinner from '../../recycle/Spinner/Spinner';\r\nimport OrderPrompt from '../OrderPrompt/OrderPrompt';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport useAlert from '../../hooks/useAlert';\r\nimport * as actions from '../../store/actions/exports';\r\n\r\n\r\nconst BurgerBuilder = props => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [alertShown,showAlert] = useAlert(false);\r\n    const addIngredient = (ingName) => dispatch(actions.addIngredient(ingName))\r\n    const removeIngredient = (ingName) => dispatch(actions.removeIngredient(ingName))\r\n\r\n        \r\n    const ingredients = useSelector(state => state.buildBurger.ingredients)\r\n    const price = useSelector(state => state.buildBurger.totalPrice.toFixed(2))\r\n    const errorMessage = useSelector(state => state.buildBurger.errorMessage)\r\n    const isAuthenticated = useSelector(state => state.login.idToken !== null)\r\n\r\n    useEffect(() => {\r\n        if(!ingredients){\r\n            dispatch(actions.initIngredients())\r\n        }\r\n    // eslint-disable-next-line\r\n    },[])\r\n\r\n    const startOrder = () => (isAuthenticated && props.history.push('/checkout')) || showAlert(true)\r\n    const cancelOrder = () => showAlert(false)\r\n    const goToLogin = () => {\r\n        props.history.push('/login');\r\n        showAlert(false)\r\n    }\r\n\r\n    const disabledInfo = {...ingredients}\r\n\r\n    for (let key in disabledInfo){\r\n        disabledInfo[key] = (disabledInfo[key] <= 0)\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {!alertShown? null:\r\n            <Alert closeAlert={cancelOrder}>\r\n                <OrderPrompt cancelOrder={cancelOrder} goToLogin={goToLogin}/>\r\n            </Alert>}\r\n\r\n\r\n            {(ingredients && (\r\n                <>\r\n                    <Burger ingredients={ingredients}/>\r\n                    <BuildControls\r\n                        addIngredient={addIngredient}\r\n                        removeIngredient={removeIngredient}\r\n                        disabled={disabledInfo}\r\n                        price={price}\r\n                        startOrder={startOrder}\r\n                    />\r\n                </>\r\n            ))\r\n            || (errorMessage && <p style={{color:'lightgrey'}}>{errorMessage}</p>)\r\n            || <Spinner/> \r\n            }\r\n           \r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default BurgerBuilder;","import React, { Suspense, useEffect } from \"react\"\r\nimport Layout from \"../Layout/Layout\"\r\nimport BurgerBuilder from \"../BurgerBuilder/BurgerBuilder\"\r\nimport { Route, Switch, Redirect } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport * as actions from \"../../store/actions/exports\"\r\nimport Spinner from \"../../recycle/Spinner/Spinner\"\r\nimport useAlert from \"../../hooks/useAlert\"\r\nimport Alert from \"../../recycle/Alert/Alert\"\r\nimport Prompt from \"../../recycle/Prompt/Prompt\"\r\n\r\nconst Checkout = React.lazy(() => import(\"../Checkout/Checkout\"))\r\nconst Orders = React.lazy(() => import(\"../Orders/Orders\"))\r\nconst Login = React.lazy(() => import(\"../Login/Login\"))\r\nconst Signup = React.lazy(() => import(\"../Signup/Signup\"))\r\nconst EditProfile = React.lazy(() => import(\"../EditProfile/EditProfile\"))\r\nconst StaticProfile = React.lazy(() => import(\"../StaticProfile/StaticProfile\"))\r\n\r\nconst App = props => {\r\n\tconst dispatch = useDispatch()\r\n\tconst reduxToken = useSelector(state => state.login.idToken)\r\n\tconst timerExpired = useSelector(state => state.login.timerExpired)\r\n\r\n\tconst [alertShown, showAlert] = useAlert(false)\r\n\r\n\tconst localToken = localStorage.getItem(\"token\")\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(actions.refreshAuth(localToken))\r\n\t\t// eslint-disable-next-line\r\n\t}, [])\r\n\r\n\tconst acknowledgeAlert = () => {\r\n\t\tshowAlert(false)\r\n\t\tdispatch(actions.acknowledgeTimerExpiration())\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (timerExpired) {\r\n\t\t\tshowAlert(true)\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [timerExpired])\r\n\r\n\tconst isAuthenticated = reduxToken !== null\r\n\r\n\tconst routes = function (isAuthenticated) {\r\n\t\tif (isAuthenticated) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\r\n\t\t\t\t\t\t<Route path=\"/checkout\" component={Checkout} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\r\n\t\t\t\t\t\t<Route path=\"/orders\" component={Orders} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\r\n\t\t\t\t\t\t<Route path=\"/profile-edit\" component={EditProfile} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\r\n\t\t\t\t\t\t<Route path=\"/profile\" component={StaticProfile} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Route path=\"/\" exact component={BurgerBuilder} />\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\r\n\t\t\t\t\t\t<Route path=\"/login\" component={Login} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\r\n\t\t\t\t\t\t<Route path=\"/signup\" component={Signup} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Route path=\"/\" exact component={BurgerBuilder} />\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{alertShown ? (\r\n\t\t\t\t<Alert closeAlert={acknowledgeAlert}>\r\n\t\t\t\t\t<Prompt acknowledgeAlert={acknowledgeAlert}>\r\n\t\t\t\t\t\tYou are automatically logged out :( Please login again\r\n\t\t\t\t\t</Prompt>\r\n\t\t\t\t</Alert>\r\n\t\t\t) : null}\r\n\r\n\t\t\t<Layout>\r\n\t\t\t\t<Switch>{routes(isAuthenticated)}</Switch>\r\n\t\t\t</Layout>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as actions from '../actions/actions';\r\n\r\nconst initialState = {\r\n    ingredients: null,\r\n    totalPrice: 4,\r\n    errorMessage: null\r\n}\r\n\r\nconst INGREDIENT_PRICES = {\r\n    salad: 0.5,\r\n    cheese: 0.4,\r\n    meat: 1.3,\r\n    bacon: 0.7\r\n}\r\n\r\nfunction deepClone(object){\r\n    return JSON.parse(JSON.stringify(object))\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n\r\n\r\n        case actions.SET_INGREDIENTS:{\r\n            const _ = deepClone(state);\r\n            if(!_.ingredients){\r\n                _.ingredients = {\r\n                    salad: action.ingredients.salad,\r\n                    bacon: action.ingredients.bacon,\r\n                    cheese: action.ingredients.cheese,\r\n                    meat: action.ingredients.meat\r\n                    }\r\n\r\n                _.error = false;\r\n                _.purchasing = false;\r\n                return _\r\n\r\n            } else {\r\n                _.error = false;\r\n                return _\r\n            }\r\n        }\r\n              \r\n        \r\n        case actions.FETCH_INGREDIENTS_FAILED:{\r\n            const _ = deepClone(state)\r\n            _.errorMessage = action.errorMessage;\r\n            return _;       \r\n        }\r\n\r\n        case actions.ADD_INGREDIENT:{\r\n            const _ = deepClone(state);\r\n            _.ingredients[action.ingredient] ++;  \r\n            _.totalPrice += INGREDIENT_PRICES[action.ingredient];\r\n\r\n            return _;\r\n        }\r\n\r\n        case actions.REMOVE_INGREDIENT:{\r\n            const _ = deepClone(state);\r\n            _.ingredients[action.ingredient] --;   \r\n            _.totalPrice -= INGREDIENT_PRICES[action.ingredient];        \r\n            return _;\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n    \r\n}\r\n\r\nexport default reducer;","import * as actions from '../actions/actions';\r\n\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    purchased: false,\r\n    checkOutMessage: null,\r\n}\r\n\r\nfunction deepClone(object){\r\n    return JSON.parse(JSON.stringify(object))\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n\r\n        \r\n        \r\n        case actions.PURCHASE_BURGER_START:{\r\n            const _ = deepClone(initialState);\r\n            _.loading = true;\r\n            return _;\r\n        }\r\n\r\n        case actions.PURCHASE_BURGER_SUCCESS:{\r\n            const _ = deepClone(state);\r\n            _.loading = false;\r\n            _.checkOutMessage = action.checkOutMessage;\r\n            return _\r\n        }\r\n\r\n        case actions.PURCHASE_BURGER_FAIL:{\r\n            const _ = deepClone(state);\r\n            _.loading = false;\r\n            _.checkOutMessage = action.checkOutMessage;\r\n            return _\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport default reducer;","import * as actions from '../actions/actions';\r\n\r\nconst initialState = {\r\n    orders: [],\r\n    loading: false,\r\n    fetchMessage: null,\r\n    ordersStatus: 'outdated'\r\n}\r\n\r\nfunction deepClone(object){\r\n    return JSON.parse(JSON.stringify(object))\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n\r\n        case actions.FETCH_START:\r\n            const _ = deepClone(state); \r\n            _.loading = true;\r\n            return _;\r\n\r\n        case actions.FETCH_STORE:{\r\n            const _ = deepClone(state);\r\n            _.orders = action.orders;\r\n            _.loading = false;\r\n            return _\r\n        }\r\n        \r\n        case actions.UPDATE_ORDER_STATUS:{\r\n            const _ = deepClone(state);\r\n            _.ordersStatus = action.status\r\n            return _\r\n        }\r\n\r\n        case actions.FETCH_FAIL:{\r\n            const _ = deepClone(state);\r\n            _.fetchMessage = action.fetchMessage\r\n            _.loading = false;\r\n            return _\r\n        }\r\n        \r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport default reducer;","import * as actions from \"../actions/actions\"\r\n\r\nconst initialState = {\r\n\tidToken: null,\r\n\tuserId: null,\r\n\tuserData: {},\r\n\tconflictMessage: null,\r\n\terrorMessage: null,\r\n\tloading: false,\r\n\ttimerExpired: false\r\n}\r\n\r\nfunction deepClone(object) {\r\n\treturn JSON.parse(JSON.stringify(object))\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actions.LOGIN_START: {\r\n\t\t\tconst _ = deepClone(initialState)\r\n\t\t\t_.loading = true\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\tcase actions.LOGIN_STORE: {\r\n\t\t\tconst _ = deepClone(state)\r\n\t\t\t_.idToken = action.idToken\r\n\t\t\t_.userId = action.userId\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\tcase actions.PROFILE_STORE: {\r\n\t\t\tconst _ = deepClone(state)\r\n\t\t\t_.userData = action.userData\r\n\t\t\t_.loading = false\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\tcase actions.PROFILE_FAIL: {\r\n\t\t\tconst _ = deepClone(state)\r\n\t\t\t_.errorMessage = action.errorMessage\r\n\t\t\t_.loading = false\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\tcase actions.LOGIN_FAIL: {\r\n\t\t\tconst _ = deepClone(state)\r\n\t\t\t_.conflictMessage = action.conflictMessage\r\n\t\t\t_.loading = false\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\t// case actions.LOGIN_EXPIRED:{\r\n\t\t//     const _ = deepClone(state);\r\n\t\t//     _.timerExpired = true;\r\n\t\t//     return _;\r\n\t\t// }\r\n\r\n\t\tcase actions.LOGIN_EXPIRED_ACK: {\r\n\t\t\tconst _ = deepClone(state)\r\n\t\t\t_.timerExpired = false\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\tcase actions.LOGOUT: {\r\n\t\t\tconst _ = deepClone(state)\r\n\r\n\t\t\tif (action.method === \"auto\") {\r\n\t\t\t\t_.timerExpired = true\r\n\t\t\t}\r\n\t\t\t_.idToken = null\r\n\t\t\t_.userId = null\r\n\t\t\treturn _\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default reducer\r\n","import * as actions from '../actions/actions';\r\n\r\nconst initialState = {\r\n    conflictMessage: null,\r\n    loading: false,\r\n    endType: null\r\n}\r\n\r\nfunction deepClone(object){\r\n    return JSON.parse(JSON.stringify(object))\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case actions.SIGNUP_START:{\r\n            const _ = deepClone(initialState);\r\n            _.loading = true;\r\n            return _;\r\n        }\r\n\r\n        case actions.SIGNUP_END:{\r\n            const _ = deepClone(state);\r\n            _.loading = false\r\n            _.endType = action.endType\r\n            return _;\r\n        }\r\n\r\n        case actions.SIGNUP_CONFLICT:{\r\n            const _ = deepClone(state);\r\n            _.conflictMessage = action.conflictMessage\r\n            _.loading = false\r\n            return _;\r\n        }\r\n\r\n        default: \r\n            return (state)\r\n    }\r\n}\r\n\r\nexport default reducer;","import * as actions from '../actions/actions';\r\n\r\nconst initialState = {\r\n    editing: false,\r\n    loading: false,\r\n    errorMessage: null\r\n}\r\n\r\nfunction deepClone(object){\r\n    return JSON.parse(JSON.stringify(object))\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case actions.PROFILE_EDIT_START:{\r\n            const _ = deepClone(initialState);\r\n            _.editing = true;\r\n            return _;\r\n        }\r\n\r\n        case actions.PROFILE_SAVE_START:{\r\n            const _ = deepClone(state);\r\n            _.loading = true\r\n            return _;\r\n        }\r\n\r\n        case actions.PROFILE_SAVE_FAILED:{\r\n                const _ = deepClone(state);\r\n                _.errorMessage = action.errorMessage\r\n                _.loading = false\r\n                return _;\r\n        }\r\n\r\n        case actions.PROFILE_SAVE_END:{\r\n            const _ = deepClone(state);\r\n            _.loading = false\r\n            return _;\r\n        }\r\n\r\n        case actions.PROFILE_EDIT_END:{\r\n            const _ = deepClone(state);\r\n            _.editing = false;\r\n            return _;\r\n        }\r\n\r\n        default: \r\n            return (state)\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./assets/styles/index.scss\"\r\nimport App from \"./containers/App/App\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\nimport { BrowserRouter } from \"react-router-dom\"\r\nimport { Provider } from \"react-redux\"\r\nimport { createStore, applyMiddleware, combineReducers, compose } from \"redux\"\r\nimport buildBurger from \"./store/reducers/buildBurger\"\r\nimport placeOrder from \"./store/reducers/placeOrder\"\r\nimport fetchOrders from \"./store/reducers/fetchOrders\"\r\nimport login from \"./store/reducers/login\"\r\nimport signup from \"./store/reducers/signup\"\r\nimport updateProfile from \"./store/reducers/updateProfile\"\r\nimport thunk from \"redux-thunk\"\r\n\r\nconst composeEnhancers =\r\n\t(process.env.NODE_ENV === \"development\"\r\n\t\t? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n\t\t: null) || compose\r\n\r\nconst rootReducer = combineReducers({\r\n\tbuildBurger,\r\n\tplaceOrder,\r\n\tfetchOrders,\r\n\tlogin,\r\n\tsignup,\r\n\tupdateProfile\r\n})\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\t/* preloadedState, */ composeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nconst app = (\r\n\t<Provider store={store}>\r\n\t\t<BrowserRouter>\r\n\t\t\t<App />\r\n\t\t</BrowserRouter>\r\n\t</Provider>\r\n)\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>{app}</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}